function adjustNeighbors(d, newTriangles, _indices_hash) = 
    let(
	    coords = delaunay_coords(d),
		nts = [
			for(nt = newTriangles)
			[nt[0], [nt[2], undef, undef]]
		],
	    ncs = [
		    for(nt = newTriangles)
			let(t = nt[0])
			[t, _tri_circumcircle([for(i = t) coords[i]])] 
		],
		nd = [
		    coords, 
			hashmap_puts(delaunay_triangles(d), nts, _indices_hash), 
			hashmap_puts(delaunay_circles(d), ncs, _indices_hash),
		],
		leng = len(newTriangles),
		aDtrid = _adjustNeighborsDtri(nd, newTriangles, leng, _indices_hash)
	)
	_adjustNeighborsOtri(aDtrid, newTriangles, leng, _indices_hash);