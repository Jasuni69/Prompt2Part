function toInt(str) = 
      str=="-"?undef
      :str[0]=="-"? -1*toInt([for(i=[1:1:len(str)-1])str[i]])
    :let(d = [for (s = str) ord(s) - 48], l = len(d))
[for (i = 0, a = d[i]; i < l; i = i + 1 ,a = i<l?( 10 * a + d[i]):a) a][l-1];