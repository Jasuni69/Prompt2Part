function before_after(lt, pivot, less, leng, before = [], after = [], j = 1) =
    j == leng ? [before, after] :
    let(is_less = less(lt[j], pivot))
    before_after(lt, pivot, less, leng,
         is_less ? [each before, lt[j]] : before, 
         is_less ? after : [each after, lt[j]], 
         j + 1
    );

identity = function(elem) elem;