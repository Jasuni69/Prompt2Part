module kp_pillow_block_assembly(type, part_thickness = 2, screw_type = M5_cap_screw, nut_type = undef) { //! Assembly with fasteners in place
    kp_pillow_block(type);

    screw_washer_thickness = washer_thickness(screw_washer(screw_type));
    nut_type = is_undef(nut_type) ? screw_nut(screw_type) : nut_type;
    nut_washer_type = nut_washer(nut_type);
    nut_washer_thickness = nut_washer_type ? washer_thickness(nut_washer_type) : 0;

    nut_offset = kp_base_height(type) + part_thickness;
    screw_length = screw_shorter_than(nut_offset + screw_washer_thickness +  nut_thickness(nut_type) + nut_washer_thickness);

    kp_pillow_block_hole_positions(type) {
        screw_and_washer(screw_type, screw_length);

        translate_z(-nut_offset)
            vflip()
                if(nut_washer_type)
                    nut_and_washer(nut_type);
                else
                    sliding_t_nut(nut_type);
    }
}