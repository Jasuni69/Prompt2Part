module doChamferTube(lx,ly,lz,chamferInfo=chamferInfo(),childFn=$fn,tubeData=tubeInfo())
{
useTubeData = (!lx && !ly && !lz);
lx= !useTubeData?lx:tubeData[2];
ly= !useTubeData?ly:tubeData[3];
lz= !useTubeData?lz:tubeData[4];//=h

//echo("chamf:",chamferInfo);
disable = chamferInfo[2];

if(!disable)
	for( i = [chamferInfo[0] , chamferInfo[1]] )
{
    r=i[1];
	  rSide=i[2];
	  fnCorner=i[3];
	  up( (lz==undef )?0:((lz/2-abs(r))*i[0]))
	   mirror([0,0,i[0]>0?0:1])
	 	  linear_extrude(height=abs(r)
			   ,slices=1
			      ,scale=[(lx+2*r)/lx,(ly+2*r)/ly])
                circle(d=lx,$fn=childFn);

    mirror([0,0,i[0]>0?0:1])
      down(chamferInfo[1]==undef?lz/2:0.02)
       linear_extrude(
           height=(chamferInfo[1]==undef?lz:lz/2)-abs(r)+.05
            ,slices=1)
              circle(d=lx,$fn=childFn);
}
//addOnly()children();
else  children();

}
//METRICSCREWS.SCAD
//This is a part of:
//CONSTRUCTIVE LIBRARY by PPROJ (version from 05.06.2021)
//released under dual-licensed under GPL 2.0  or CERN-OHL-W.*You can choose between one of them if you use this work..

//you only need a single file: constructive-compiled.scad which
//contains all the partial files you find. you can ignore everything else..
//just include it in your code by:
//include <constructive-compiled.scad>

//if you wish to improve the library or make changes to it,
// it might be handier to use:
//include <constructive-all.scad> instead. so you do not have to recreate constructive-compiled.scad from the parts
//every time you make a change to a part of the library