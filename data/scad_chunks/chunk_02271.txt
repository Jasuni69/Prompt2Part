module corner_block(screw = def_screw, name = false, short_insert = false) { //! Generate the STL for a printed corner block
    r = 1;
    cb_width = corner_block_width(screw, short_insert);
    cb_height = cb_width;
    cb_depth = cb_width;
    insert = screw_insert(screw, short_insert);
    corner_rad = insert_outer_d(insert) / 2 + wall;
    offset = corner_block_hole_offset(screw, short_insert);

    stl(name ? name : str("corner_block", "_M", screw_radius(screw) * 20, short_insert ? "_s": ""))
        difference() {
            hull()  {
                translate([r, r])
                    rounded_cylinder(r = r, h = cb_height, r2 = r);

                translate([r, cb_depth - r])
                    cylinder(r = r, h = cb_height - corner_rad);

                translate([cb_width - r, r])
                    cylinder(r = r, h = cb_height - corner_rad);

                translate([offset, offset, offset])
                    sphere(corner_rad);

                translate([offset, offset])
                    cylinder(r = corner_rad, h = offset);

                translate([offset, r, offset])
                    rotate([-90, 0, 180])
                        rounded_cylinder(r = corner_rad, h = r, r2 = r);

                translate([r, offset, offset])
                    rotate([0, 90, 180])
                        rounded_cylinder(r = corner_rad, h = r, r2 = r);
            }
            corner_block_v_hole(screw, short_insert)
                insert_hole(insert, overshoot);

            corner_block_h_holes(screw, short_insert = short_insert)
                insert_hole(insert, overshoot, true);

            children();
        }
}