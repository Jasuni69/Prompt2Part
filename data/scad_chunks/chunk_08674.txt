function _next_stack(t, code, stack) = 
    code == "["                ? [t, stack] :
    code == "]" && stack != [] ? stack[1] : stack;