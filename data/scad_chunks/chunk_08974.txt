function tri_subdivide(shape_pts, n = 1) =
    n == 0 ? [shape_pts] :
    let(
        pts = _tri_subdivide_pts(shape_pts, n + 1),
        indices = _tri_subdivide_indices(n + 1)
    )
    [
        for(ti = indices) 
        [pts[ti[0]], pts[ti[1]], pts[ti[2]]]
    ];