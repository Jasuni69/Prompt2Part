function expandParents(child,derivedParts=$derivedParts)=
            let(parents =
            [ for(found = getGenialogyIndexForPart(child,derivedParts))
             each
            let(foundInFamily=[ for(i = [1:1:len(found)-1])found[i]])
            let(foundAt=found[0])
            [for(a=[len(foundInFamily)-1:-1:0])
                  if(foundAt && foundAt>a &&
                   (!enclosesOneOf(child,foundInFamily[a])))foundInFamily[a]
            ]])join(concat(reverse(parents),[child]),",");