module dancing_cubes_with(rows, cube_width, shaft_r, spacing, edge_width, pattern_thickness, center = false) {
    half_w = cube_width / 2;
	range_width = (cube_width + spacing) * rows;
    
    color("green") translate([0, 0, cube_width]) 
    intersection() {
        dancing_cubes(rows, cube_width, shaft_r, spacing, edge_width, center = center);
        
        intersection() {
            linear_extrude(pattern_thickness) 
                square(range_width, center = center);
            children();
        }            
    }

    dancing_cubes(rows, cube_width, shaft_r, spacing, edge_width, center = center);    
}