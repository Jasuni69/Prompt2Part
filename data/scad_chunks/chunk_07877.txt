module tube_box(size, tile_width) {
    half_w = tile_width / 2;
	quarter_w = tile_width / 4;
	eighth_w = tile_width / 8;
	
    translate([eighth_w, eighth_w, eighth_w] + [tile_width, tile_width, 0] / 2)
		for(tile = tile_w2e(size)) {
			translate([tile.x, tile.y] * tile_width)
				tube_tile(tile[2], tile_width);
		}

	box_extrude(height = tile_width, shell_thickness = eighth_w)
		square([size[0] * tile_width + quarter_w, size[1] * tile_width + quarter_w]);
}