module segment(x, y, r){
    l = pb_last($pb_pts);
    args = is_num(x)? [x,y,r] : is_num(r)? concat(x, r) : x;
    data = _pb_segment(l, args, true);
    $pb_pts = concat($pb_pts,data[0]);
    $pb_angle = data[2];
    $pb_ctrl_pts = data[3];
    $fn = $pb_fn; $fa = $pb_fa; $fs = $pb_fs;
    if (pb_do_render($children, parent_module(0))) pb_draw();
    children();  
}

//  Adds multiple points to form a circle segment from the last point to absolute point x,y with given radius
//  An error is shown if the radius is less than half the distance between the two points.
//  You can flip the circle segment inside out by changing the radius to negative