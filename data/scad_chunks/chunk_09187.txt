function _f(f, ddf_y) = f >= 0 ? f + ddf_y : f;