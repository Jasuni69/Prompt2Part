function try_add_spiral(size, spirals, max_spirals, min_radius, done) = 
    let(
        leng = len(spirals),
        more_spirals = [
            each spirals,
            each [
                for(i = done; i < leng; i = i + 1) 
                let(maybeSpiral = try_create_spiral(size, spirals, i, min_radius))
                if(!is_undef(maybeSpiral)) maybeSpiral
            ]
        ],
        leng_more_spirals = len(more_spirals)
    )
    leng_more_spirals > max_spirals ? [for(i = [0:max_spirals - 1]) more_spirals[i]] : more_spirals;