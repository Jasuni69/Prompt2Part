module bolt_head (options, kind, head_diameter_clearance = DEFAULT_HEAD_DIAMETER_CLEARANCE, head_top_clearance = 0) {
  b = bolt_data(options, kind);

  if (kind == "socket_head") {
    cylinder(d = b.head_diameter + head_diameter_clearance, h = b.head_length + head_top_clearance);
  }
  else if (kind == "countersunk") {
    head_dia = b.head_diameter + head_diameter_clearance;
    cylinder(
      d1 = b.diameter + head_diameter_clearance,
      d2 = head_dia,
      h = b.head_length
    );
    translate([0, 0, b.head_length])
      cylinder(d = head_dia, head_top_clearance);
  }
  else if (kind == "hex_head") {
    hexagon(d = hex_inscribed_circle_d(b.width) + head_diameter_clearance, h = b.head_length + head_top_clearance);
  }
}

//
// bolt - generate a 2D bolt hole positive. Most commonly used because you're
// too lazy to turn that metric bolt size into a diameter.
//
// Usage:
//
//     bolt_2d("M3");
//