module enviro_case_assembly() pose([ 231.40, 0.00, 1.20 ])
assembly("enviro_case") {
    case_assembly();

    translate([pcb_x, 0, top_thickness])
        vflip() explode(20, explode_children = true) {
            t = pcb_thickness(pcb);
            nut = screw_nut(pcb_screw);
            washer = screw_washer(pcb_screw);

            no_explode() enviro_assembly();

            pcb_screw_positions(pcb) {
                translate_z(t)
                    screw(pcb_screw, screw_longer_than(t + bulkhead_t + nut_thickness(nut, true) + washer_thickness(washer)));

                translate_z(-bulkhead_t)
                    vflip()
                        explode(20, explode_children = true)
                            nut_and_washer(nut, true);
            }
        }
}

//! * Plug the RPi into the Enviro+ socket and secure with two screws self tapped into the bosses in the case.