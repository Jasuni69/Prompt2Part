function _vx_gray_impl(levels, center, invert, normalize) = 
    let(
        width = len(levels[0]),
        height = len(levels),
        offset_i = height / 2
    )
    [
        for(i = height - 1; i > -1; i = i - 1) 
        each _row(height - i - 1, levels[i], width, height, center, invert, normalize)
    ];