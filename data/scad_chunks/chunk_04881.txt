function _offset_poly(p, dist) = 
  [ 
  for (i=[0:len(p)-1]) 
    i == 0 ? _offset_corner(p[len(p)-1], p[i], p[i+1], dist) :
    i == len(p)-1 ? _offset_corner(p[i-1], p[i], p[0], dist) :
    _offset_corner(p[i-1], p[i], p[i+1], dist)
  ];

// each segment of a polygon will 'vanish' at some offset value (unless adjacent 
// segments are parallel).  Compute the offset at which each segment vanishes 
// (produces 'nan' or plus or minus infinity when adjacent segments parallel)