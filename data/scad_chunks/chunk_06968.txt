module test_difference() {
  R5 = [square(10,center=true), square(9,center=true),square(4,center=true)];
  R4 = [square(9,center=true), square(3,center=true)];
  assert(are_regions_equal(difference(R5,R4),
                         [square(10,center=true), square(9, center=true), square(3,center=true)]));
  pathA = [
    [-9,12], [-6,2], [-3,12], [0,2], [3,10], [5,10], [19,-4], [-8,-4], [-12,0]
  ];
  pathB = [
    [-12,8], [7,8], [9,6], [7,5], [-3,5], [-5,-6], [-2,-6], [0,-4],
    [6,-4], [2,-8], [-7,-8], [-15,0]
  ];

  right=[[[-10, 8], [-9, 12], [-7.8, 8]], [[0, -4], [-4.63636363636, -4], [-3, 5], [-0.9, 5], [0, 2], [1.125, 5], [7, 5], [9, 6], [19, -4], [6, -4]], [[-4.2, 8], [-1.8, 8], [-3, 12]], [[2.25, 8], [3, 10], [5, 10], [7, 8]]];
  assert(are_regions_equal(difference(pathA,pathB),right));

  R8 = [right(8,square(10,center=true)), left(8,square(10,center=true))];
  R9 = [back(8,square(10,center=true)), fwd(8,square(10,center=true))];

  assert(are_regions_equal(difference(R9,R8), [[[-5, 5], [-5, 13], [5, 13], [5, 5], [3, 5], [3, 3], [-3, 3], [-3, 5]], [[5, -13], [-5, -13], [-5, -5], [-3, -5], [-3, -3], [3, -3], [3, -5], [5, -5]]]));

  assert(are_regions_equal(difference(R8,R9),[[[-5, -5], [-13, -5], [-13, 5], [-5, 5], [-5, 3], [-3, 3], [-3, -3], [-5, -3]], [[3, -3], [3, 3], [5, 3], [5, 5], [13, 5], [13, -5], [5, -5], [5, -3]]]));

  
}
test_difference();